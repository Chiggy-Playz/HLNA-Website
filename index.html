<!DOCTYPE html>
<html>

<head>

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">



    <!-- AnimeJS -->
    <script src="anime.min.js"></script>

    <!-- JQuery -->
    <!-- <script src="jquery-3.6.0.min.js"></script> -->

    <!-- Custom CSS -->
    <style>
        body {
            background-color: #2A2D32;
            color: white;
        }

        #nav-item :hover {
            color: #00ffff;
        }
    </style>

    <!-- JS Definitions -->
    <script>
        function getScrollPercent() {
            var h = document.documentElement,
                b = document.body,
                st = 'scrollTop',
                sh = 'scrollHeight';
            return (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
        }

        function isScrolledIntoView(el) {
            var rect = el.getBoundingClientRect();
            var elemTop = rect.top;
            var elemBottom = rect.bottom;

            // Only completely visible elements return true:
            var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);
            // Partially visible elements return true:
            //isVisible = elemTop < window.innerHeight && elemBottom >= 0;
            return isVisible;
        }

        function mobileCheck() {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
                    check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);

            // Hotfix for ipad pro
            if (check) {
                if ((getHeight() > 1350) & (getWidth() > 1010)) {
                    check = false
                }
            }
            return check;

        };

        function getWidth() {
            return Math.max(
                document.body.scrollWidth,
                document.documentElement.scrollWidth,
                document.body.offsetWidth,
                document.documentElement.offsetWidth,
                document.documentElement.clientWidth
            );
        }

        function getHeight() {
            return Math.max(
                document.body.scrollHeight,
                document.documentElement.scrollHeight,
                document.body.offsetHeight,
                document.documentElement.offsetHeight,
                document.documentElement.clientHeight
            );
        }

        function debug() {
            anime({ targets: '#debug1', translateX: nav_links_rect.left })
            anime({ targets: '#debug2', translateX: nav_links_rect.right })
        }

        function inIframe() {
            try {
                return window.self !== window.top;
            } catch (e) {
                return true;
            }
        }

    </script>

</head>

<body>
    <div class="start"></div>
    <div id="debug1" class="invisible" style="position:fixed; background-color: #00ffff; width: 1px; height: 1px;">
    </div>
    <div id="debug2" class="invisible" style="position:fixed;background-color: #00ffff; width: 1px; height: 1px;"></div>

    <div class="px-3 py-2 text-white header-container">

        <div id="header-sub-container"
            class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">

            <a href="/" class="nav-a d-flex align-items-center my-2 my-lg-0 text-white text-decoration-none">
                <div id="logo" style="width:64px; height:64px;"></div>

                <div id="heading" style="width: 47.58px;height:64px;"></div>
            </a>

            <ul id="navbar-links" class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small mx-auto">
                <li id="nav-item-home">
                    <a href="index.html" class="nav-link  text-secondary text-center" target="_blank">
                        <i class="bi bi-house d-block mx-auto mb-1" style="font-size: 1.5rem;"></i>
                        Home
                    </a>
                </li>
                <li id="nav-item">
                    <a href="commands.html" class="nav-link text-white text-center">
                        <i class="bi bi-keyboard d-block mx-auto mb-1" style="font-size: 1.5rem;"></i>
                        Commands
                    </a>
                </li>
                <li id="nav-item">
                    <a href="https://discord.gg/AytU6MUuQc" class="nav-link text-white text-center">
                        <i class="bi bi-question-circle d-block mx-auto mb-1" style="font-size: 1.5rem;"></i>
                        Support
                    </a>
                </li>
                <li id="nav-item-invite">
                    <a href="https://discord.com/oauth2/authorize?client_id=813092740270260235&scope=bot%20applications.commands&permissions=268790856"
                        class="nav-link text-white text-center">
                        <i class="bi bi-plus-circle d-block mx-auto mb-1" style="font-size: 1.5rem;"></i>
                        Invite
                    </a>
                </li>

            </ul>

        </div>

    </div>


    <div class="d-flex justify-content-center" style="min-height: 256px;">
        <img class="img-fluid" id="hlna-logo" style="position: fixed;" width="256" height="256"
            src="https://cdn.discordapp.com/avatars/813092740270260235/a5a9e316052b029f4151d2013158ef67.png?size=512">

    </div>

    <div class="d-flex justify-content-center">
        <h1 class="display-1" id="hlna-heading" style="position: fixed;">HLN-A</h1>
    </div>


    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>lmao



    <script>
        console.log(inIframe())
        debug1 = document.getElementById('debug1')
        debug2 = document.getElementById('debug2')

        // placeholder for logo and heading
        const nav_a = document.getElementsByClassName('nav-a')[0]
        const nav_og_links = document.getElementById("navbar-links")
        const nav_a_width = nav_a.getBoundingClientRect().width - (0.4 * nav_a.getBoundingClientRect().width)

        var header_container = document.getElementsByClassName('header-container')[0]
        var sub_header_cont = document.getElementById('header-sub-container')

        // Top of page
        var start_elem = document.getElementsByClassName('start')[0]

        // The HLN-A Logo
        var nav_logo = document.getElementById('logo')
        var nav_logo_rect = nav_logo.getBoundingClientRect();
        var logo_rect = document.getElementById("hlna-logo").getBoundingClientRect()

        // The HLN-A Heading
        var nav_heading = document.getElementById('heading')
        var nav_heading_rect = nav_heading.getBoundingClientRect()
        var heading_rect = document.getElementById('hlna-heading').getBoundingClientRect()

        // Remove nav_a so it doesnt interfere with translation of navlinks
        nav_a.remove()

        var nav_links = document.getElementById('navbar-links')
        var nav_links_rect = nav_links.getBoundingClientRect()

        var logo_offsetX = nav_logo_rect.left - logo_rect.left
        var logo_offsetY = nav_logo_rect.top - logo_rect.top

        // We need to add 1/4 of the rect, because when we shrink the HLN-A heading by 50%, there is a portion of 25% left. 
        var heading_offsetX = nav_heading_rect.left - (heading_rect.left + (heading_rect.width / 4))
        // This is for centering on vertical axis
        var heading_offsetY = (nav_heading_rect.top + (nav_heading_rect.height / 2)) - (heading_rect.y + (heading_rect.height / 2))



        if (mobileCheck()) {

            navbar_offsetX = 0
            navbar_offsetY = 0

        } else {
            targetX = getWidth() - nav_links_rect.width - nav_a_width
            navbar_offsetX = targetX - nav_links_rect.x
            navbar_offsetY = 0
        }


        let logo_ani = anime({
            targets: '#hlna-logo', // What to move
            translateX: logo_offsetX - 96, // How much to move x
            translateY: logo_offsetY - 96,  // How much to move y
            scale: 0.25, // To reduce its size
            autoplay: false, // duh
            duration: 500, // How much time should it take for animation to complete
            easing: 'linear' // So it doesnt bounce at end of animation
        })

        let heading_ani = anime({
            targets: '#hlna-heading', // What to move
            translateX: heading_offsetX, // How much to move x
            translateY: heading_offsetY,  // How much to move y
            scale: 0.5, // To reduce its size
            autoplay: false, // duh
            duration: 500, // How much time should it take for animation to complete
            easing: 'linear' // So it doesnt bounce at end of animation
        })

        let navbar_ani = anime({
            targets: '#navbar-links',
            translateX: navbar_offsetX,
            translateY: navbar_offsetY,
            autoplay: false,
            duration: 500,
            easing: 'linear'
        })


        // debug()

        document.onscroll = () => {

            if (!logo_ani.began) {

                sub_header_cont.append(nav_a, nav_links)

                logo_ani.play()
                heading_ani.play()
                navbar_ani.play()

            } else if (logo_ani.reversed) {
                nav_a.remove()
                logo_ani.reverse()
                logo_ani.play()

                heading_ani.reverse()
                heading_ani.play()

                navbar_ani.reverse()
                navbar_ani.play()
            }


            // const percentage = getScrollPercent();
            // tl.seek(tl.duration * (percentage * 0.01));

            if (!isScrolledIntoView(start_elem)) {
                if (!header_container.className.includes(' sticky-top')) {

                    header_container.className += " sticky-top"
                }
            } else {
                nav_a.remove()
                logo_ani.reverse()
                logo_ani.play()

                heading_ani.reverse()
                heading_ani.play()

                navbar_ani.reverse()
                navbar_ani.play()

                if (header_container.className.includes(' sticky-top')) {
                    header_container.className = header_container.className.replace(' sticky-top', '')
                }
            }



        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
</body>

</html>